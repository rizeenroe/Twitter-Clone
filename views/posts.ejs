<div class="posts">
    <% if (posts.length > 0) { %>
        <ul>
          <% posts.forEach(post => { %>
            <li>
              <div class="userPosts">
                <div class="postsUser">
                  <img src="https://upload.wikimedia.org/wikipedia/commons/b/bc/Unknown_person.jpg" alt="no pfp icon" class="postsUserIcon">
                  <div class="postsUserName">
                    <strong>
                      <%= post.name %> 
                    </strong>
                  </div>
                  <div class="timeCreatedAt">
                    <span>
                      <%= (() => {
                        const createdAt = new Date(post.createdAt);
                        const now = new Date();
                        const diffMs = now - createdAt;
                        const diffSeconds = Math.floor(diffMs / 1000);
                        const diffMinutes = Math.floor(diffSeconds / 60);
                        const diffHours = Math.floor(diffMinutes / 60);
                        const diffDays = Math.floor(diffHours / 24);
                    
                        if (diffDays > 0) {
                          return `${diffDays} day${diffDays > 1 ? 's' : ''} ago`;
                        } else if (diffHours > 0) {
                          return `${diffHours} hour${diffHours > 1 ? 's' : ''} ago`;
                        } else if (diffMinutes > 0) {
                          return `${diffMinutes} minute${diffMinutes > 1 ? 's' : ''} ago`;
                        } else {
                          return `Just now`;
                        }
                      })() %>
                    </span>
                  </div>
                </div>
                <div class="postsContent">
                  <div class="userPostsText">
                    <p><%= post.message %></p>
                  </div>
                  <div class="userPostsImages">

                  </div>
                  
                </div>
                <div class="postsButtons">
                  <div class="postsLikes">
                    <button onclick="">
                      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M720-120H280v-520l280-280 50 50q7 7 11.5 19t4.5 23v14l-44 174h258q32 0 56 24t24 56v80q0 7-2 15t-4 15L794-168q-9 20-30 34t-44 14Zm-360-80h360l120-280v-80H480l54-220-174 174v406Zm0-406v406-406Zm-80-34v80H160v360h120v80H80v-520h200Z"/></svg>
                    </button >
                    <span class="postsAmmountsOfLikes">
                      <%= post.likes %> 
                    </span>
                  </div>
                  <div class="postsComments">
                    <button onclick="" >
                      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3"><path d="M240-400h480v-80H240v80Zm0-120h480v-80H240v80Zm0-120h480v-80H240v80ZM880-80 720-240H160q-33 0-56.5-23.5T80-320v-480q0-33 23.5-56.5T160-880h640q33 0 56.5 23.5T880-800v720ZM160-320h594l46 45v-525H160v480Zm0 0v-480 480Z"/></svg>
                    </button>
                    <span class="postsAmmountsOfComments">
                      <%= post.comments %>
                    </span>
                  </div>
                  <div class="postsSharedAmount">
                    <button>
                      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="m600-200-56-57 143-143H300q-75 0-127.5-52.5T120-580q0-75 52.5-127.5T300-760h20v80h-20q-42 0-71 29t-29 71q0 42 29 71t71 29h387L544-624l56-56 240 240-240 240Z"/></svg>
                    </button>
                    <span class="postsAmmountsOfComments">
                      0
                    </span>
                  </div>
                  <div class="postsBookmark">
                    <button>
                      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF"><path d="M200-120v-640q0-33 23.5-56.5T280-840h400q33 0 56.5 23.5T760-760v640L480-240 200-120Zm80-122 200-86 200 86v-518H280v518Zm0-518h400-400Z"/></svg>
                    </button>
                  </div>
                </div>
              </div>
              
              
            </li>
          <% }) %>
        </ul>
    <% } else { %>
        <p>No posts available.</p>
    <% } %>
</div>